<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Personal Financial Statements</title>
  <style>
    body { font-family: Helvetica, Arial, sans-serif; margin: 2cm; }
    h1 { text-align: center; font-size: 28px; margin-bottom: 0; }
    .subtitle { text-align: center; font-size: 18px; margin-top: 5px; margin-bottom: 40px; }
    h2 { margin-top: 30px; border-bottom: 2px solid #000; padding-bottom: 5px; }
    .statement { border: 2px solid #000; border-radius: 8px; padding: 20px; margin-bottom: 40px; background-color: #fdfdfd; }
    .section { margin-top: 20px; margin-bottom: 20px; }
    .section h3 { border-bottom: 1px solid #aaa; padding-bottom: 3px; }
    .grid { display: grid; grid-template-columns: 1fr 100px 30px; gap: 8px 16px; align-items: center; }
    .grid input[type="text"] { text-align: left; width: 100%; }
    .grid input[type="number"] { text-align: right; width: 100%; }
    .remove-btn { background: #f44336; color: white; border: none; border-radius: 3px; cursor: pointer; font-size: 14px; padding: 2px 6px; }
    .output { font-weight: bold; border-top: 2px solid #000; margin-top: 15px; padding-top: 10px; font-size: 16px; }
    .calculation { font-style: italic; margin-top: 5px; color: #333; }
    .ratios, .responses { page-break-before: always; }
    .ratios p, .responses p { margin-top: 15px; }
    .ratios em { display: block; margin-top: 4px; font-style: italic; }
    textarea { width: 100%; height: 60px; margin-top: 8px; border: 1px solid #ccc; padding: 8px; }
    input[type="text"], input[type="date"] { padding: 4px; }
    button { margin-top: 10px; }
    @media print {
      body { margin: 0; }
      button, .remove-btn { display: none !important; }
    }
  </style>
</head>
<body>

  <h1>Personal Financial Statements</h1>
  <div class="subtitle">for <input type="text" id="studentName" placeholder="Enter your name" /></div>

  <div class="statement">
    <h2>Balance Sheet</h2>
    <p><strong>As of:</strong> <input type="date" id="balanceDate" /></p>
    <div class="section">
      <h3>Assets</h3>
      <div class="grid" id="assets">
        <input type="text" value="Checking Account" /><input type="number" /><span></span>
        <input type="text" value="Savings Account" /><input type="number" /><span></span>
      </div>
      <button onclick="addField('assets')">Add Asset</button>
      <div class="output">Total Assets: $<span id="totalAssets">0</span></div>
    </div>
    <div class="section">
      <h3>Liabilities</h3>
      <div class="grid" id="liabilities">
        <input type="text" value="Credit Card Debt" /><input type="number" /><span></span>
      </div>
      <button onclick="addField('liabilities')">Add Liability</button>
      <div class="output">Total Liabilities: $<span id="totalLiabilities">0</span></div>
    </div>
    <button onclick="calculateAll()">Calculate Totals</button>
    <div class="output">Net Worth: $<span id="netWorth">0</span></div>
    <div class="calculation">(Assets – Liabilities = Net Worth)</div>
  </div>

  <div class="statement" style="page-break-before: always;">
    <h2>Cash Flow Statement</h2>
    <p><strong>For the period:</strong> <input type="date" id="startDate" /> to <input type="date" id="endDate" /></p>
    <div class="section">
      <h3>Cash Inflows</h3>
      <div class="grid" id="inflows">
        <input type="text" value="Income" /><input type="number" /><span></span>
      </div>
      <button onclick="addField('inflows')">Add Income Source</button>
      <div class="output">Total Inflows: $<span id="totalInflows">0</span></div>
    </div>
    <div class="section">
      <h3>Cash Outflows</h3>
      <div class="grid" id="outflows">
        <input type="text" value="Fixed Expenses" /><input type="number" /><span></span>
        <input type="text" value="Variable Expenses" /><input type="number" /><span></span>
      </div>
      <button onclick="addField('outflows')">Add Expense</button>
      <div class="output">Total Outflows: $<span id="totalOutflows">0</span></div>
    </div>
    <button onclick="calculateAll()">Calculate Totals</button>
    <div class="output">Net Cash Flow: $<span id="netCashFlow">0</span></div>
    <div class="calculation">(Inflows – Outflows = Net Cash Flow)</div>
  </div>

  <div class="ratios">
    <h2>Financial Ratios</h2>
    <p><strong>Debt Ratio:</strong> <span id="debtRatio">0%</span><em>Shows how much of your assets are financed by debt. Lower is better.</em></p>
    <p><strong>Current Ratio:</strong> <span id="currentRatio">0</span><em>Measures short-term financial health. A value over 1.0 means you can cover upcoming bills.</em></p>
    <p><strong>Liquidity Ratio:</strong> <span id="liquidityRatio">0</span><em>You can cover <span id="liquidityRatioExplanation">0</span> months of expenses with your liquid assets.</em></p>
    <p><strong>Debt-Payments Ratio:</strong> <span id="debtPaymentsRatio">0%</span><em>Measures how much of your income goes to debt. Aim for under 20%.</em></p>
    <p><strong>Savings Ratio:</strong> <span id="savingsRatio">0%</span><em>Indicates how much you’re saving. Higher is better.</em></p>
  </div>

  <div class="responses">
    <h2>Reflection Questions</h2>
    <p><strong>What surprised you about your net worth or cash flow?</strong></p>
    <textarea></textarea>

    <p><strong>Are there areas where you could reduce expenses?</strong></p>
    <textarea></textarea>

    <p><strong>What are other adjustments you’d like to make?</strong></p>
    <textarea></textarea>
  </div>

  <div class="section">
    <button onclick="window.print()">Export to PDF</button>
  </div>

  <script>
    function addField(sectionId) {
      const container = document.getElementById(sectionId);
      const textInput = document.createElement("input");
      textInput.type = "text";
      textInput.placeholder = "Label";
      const numberInput = document.createElement("input");
      numberInput.type = "number";
      const removeBtn = document.createElement("button");
      removeBtn.innerHTML = "×";
      removeBtn.className = "remove-btn";
      removeBtn.onclick = function() {
        container.removeChild(textInput);
        container.removeChild(numberInput);
        container.removeChild(removeBtn);
      };
      container.appendChild(textInput);
      container.appendChild(numberInput);
      container.appendChild(removeBtn);
    }

    function sumValues(sectionId) {
      const inputs = document.getElementById(sectionId).getElementsByTagName("input");
      let total = 0;
      for (let i = 1; i < inputs.length; i += 2) {
        total += parseFloat(inputs[i].value) || 0;
      }
      return total;
    }

    function calculateAll() {
      const assets = sumValues("assets");
      const liabilities = sumValues("liabilities");
      const inflows = sumValues("inflows");
      const outflows = sumValues("outflows");

      const netWorth = assets - liabilities;
      const netCashFlow = inflows - outflows;

      document.getElementById("totalAssets").innerText = assets.toFixed(2);
      document.getElementById("totalLiabilities").innerText = liabilities.toFixed(2);
      document.getElementById("totalInflows").innerText = inflows.toFixed(2);
      document.getElementById("totalOutflows").innerText = outflows.toFixed(2);

      document.getElementById("netWorth").innerText = netWorth.toFixed(2);
      document.getElementById("netCashFlow").innerText = netCashFlow.toFixed(2);

      const debtRatio = assets > 0 ? liabilities / assets : 0;
      const currentRatio = liabilities > 0 ? assets / liabilities : 0;
      const liquidityRatio = outflows > 0 ? assets / outflows : 0;
      const debtPaymentsRatio = inflows > 0 ? liabilities / inflows : 0;
      const savingsRatio = inflows > 0 ? netCashFlow / inflows : 0;

      document.getElementById("debtRatio").innerText = (debtRatio * 100).toFixed(1) + "%";
      document.getElementById("currentRatio").innerText = currentRatio.toFixed(2);
      document.getElementById("liquidityRatio").innerText = liquidityRatio.toFixed(2);
      document.getElementById("liquidityRatioExplanation").innerText = liquidityRatio.toFixed(1);
      document.getElementById("debtPaymentsRatio").innerText = (debtPaymentsRatio * 100).toFixed(1) + "%";
      document.getElementById("savingsRatio").innerText = (savingsRatio * 100).toFixed(1) + "%";
    }
  </script>
</body>
</html>
